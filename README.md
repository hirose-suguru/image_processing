# 🎨 画像カラー置換ツール

画像上の特定の色をクリックで取得し、別の色に一括置換するWebアプリケーション

## ✨ 特徴

- ✅ **インストール不要** - ブラウザだけで動作
- ✅ **APIキー不要** - ブラウザ標準機能のみ使用
- ✅ **プライバシー保護** - 画像データは外部に送信されません
- ✅ **簡単操作** - クリックするだけで色を選択
- ✅ **高速処理** - 数百万ピクセルも数秒で処理
- ✅ **完全一致置換** - RGB値が完全に一致する色のみ置換
- ✅ **透明度保持** - PNG画像のAlphaチャンネルを保持

## 🚀 使い方

### 1. アプリケーションを開く
`index.html` をダブルクリックしてブラウザで開きます。

### 2. 画像を読み込む
「📁 画像ファイルを選択」ボタンをクリックして、PNG または JPEG 画像を選択します。

### 3. 置換したい色を選択
画像上の任意の場所をクリックすると、その位置の色が取得されます。
- クリックした色 (A) が表示されます
- RGB値と16進数カラーコードが表示されます

### 4. 新しい色を指定
「新しい色 (B)」で置換後の色を指定します。
- **方法1**: カラーピッカーをクリックして色を選択
- **方法2**: 16進数カラーコード (例: `#FF0000`) を手動入力

### 5. カラー置換を実行
「🔄 カラー置換を実行」ボタンをクリックすると、色が置換されます。
- 処理が完了すると、置換したピクセル数が表示されます

### 6. 画像を保存
「💾 画像をダウンロード」ボタンをクリックすると、PNG形式で保存されます。
- ファイル名: `replaced_image.png`

## 📋 対応画像形式

- PNG (.png)
- JPEG/JPG (.jpg, .jpeg)

## 🔧 技術仕様

### 使用技術
- **HTML5**
- **JavaScript (ES6+)**
- **Tailwind CSS** (スタイリング)
- **Canvas API** (画像処理)
- **File API** (ファイル読み込み)

### ブラウザ対応
- ✅ Google Chrome (推奨)
- ✅ Microsoft Edge
- ✅ Firefox
- ✅ Safari

### 処理性能
- 小サイズ画像 (500x500px): **即座に処理**
- 中サイズ画像 (2000x2000px): **1~2秒**
- 大サイズ画像 (5000x5000px): **5~10秒**

## 🎯 仕組み

### カラー置換アルゴリズム
1. Canvas に画像を描画
2. クリック位置のピクセル色 (RGB) を取得
3. 全ピクセルをスキャンして完全一致する色を検出
4. 一致したピクセルを新しい色に置換
5. Alphaチャンネルは保持 (透明度を維持)

### 完全一致とは?
RGB値が**全て同じ**ピクセルのみを置換します。

例: クリックした色が `RGB(255, 0, 0)` の場合
- ✅ `RGB(255, 0, 0)` → 置換される
- ❌ `RGB(254, 0, 0)` → 置換されない (1だけ違う)
- ❌ `RGB(255, 1, 0)` → 置換されない

## 💡 よくある質問

### Q1. APIキーは必要ですか?
**不要です。** Canvas APIとFile APIはブラウザに組み込まれている標準機能です。

### Q2. インターネット接続は必要ですか?
**Tailwind CSSをCDN経由で読み込むため、初回起動時のみ必要です。** 一度読み込めば、オフラインでも動作します。

### Q3. 画像データは外部に送信されますか?
**送信されません。** 全ての処理はブラウザ内で完結します。プライバシーが保護されます。

### Q4. 大きな画像でも処理できますか?
**はい。** ただし、超大容量画像 (100MB以上) はブラウザのメモリ制限で動作が重くなる可能性があります。

### Q5. 類似色も一緒に置換したい
現在のバージョンは**完全一致のみ**対応しています。類似色置換機能は将来の拡張機能として追加可能です。

### Q6. 複数の色を一度に置換できますか?
現在のバージョンは**1色ずつ**の置換です。繰り返し実行することで複数色の置換が可能です。

### Q7. 元に戻す(Undo)機能はありますか?
現在のバージョンにはありません。間違えた場合は、画像を再読み込みしてください。

## 🛠️ カスタマイズ

### ダウンロードファイル名を変更
`downloadImage()` 関数の以下の行を編集:
```javascript
a.download = 'replaced_image.png'; // ファイル名を変更
```

### 対応画像形式を追加
`fileInput` の `accept` 属性を編集:
```html
<input type="file" id="fileInput" accept="image/png, image/jpeg, image/gif">
```

### Canvas最大表示サイズを変更
Canvasのクラスを編集:
```html
<canvas id="canvas" class="max-w-full max-h-[800px] cursor-crosshair hidden"></canvas>
```

## 📝 ライセンス

このプロジェクトはフリーソフトウェアです。自由に使用・改変・配布できます。

## 🙏 謝辞

- Tailwind CSS - https://tailwindcss.com/
- Canvas API - W3C標準
- File API - W3C標準

---

**開発:** Claude Code
**バージョン:** 1.0.0
**最終更新:** 2026-01-12
